{"version":3,"sources":["../../src/hooks/provider.js"],"names":["processUserProfile","provider","propertyMap","hook","data","hasOwnProperty","value","key","set","get"],"mappings":";;;;;QAIgBA,kB,GAAAA,kB;;AAHhB;;AACA;;;;;;AAFA;AAIO,SAASA,kBAAT,CAA6BC,QAA7B,EAAuCC,WAAvC,EAAoD;AACzD,SAAO,UAAUC,IAAV,EAAgB;AACrB;AACA,QAAIA,KAAKC,IAAL,CAAUC,cAAV,CAAyBJ,QAAzB,CAAJ,EAAwC;AACtC,iCAAKC,WAAL,EAAkB,UAACI,KAAD,EAAQC,GAAR,EAAgB;AAChC,yBAAEC,GAAF,CAAML,KAAKC,IAAX,EAAiBG,GAAjB,EAAsB,iBAAEE,GAAF,CAAMN,KAAKC,IAAL,CAAUH,QAAV,CAAN,EAA2BK,KAA3B,CAAtB;AACD,OAFD;AAGD;AACF,GAPD;AAQD","file":"provider.js","sourcesContent":["// A hook that extract user profile informations from OAuth providers\r\nimport { each } from 'feathers-commons'\r\nimport _ from 'lodash'\r\n\r\nexport function processUserProfile (provider, propertyMap) {\r\n  return function (hook) {\r\n    // As an example extract the user email\r\n    if (hook.data.hasOwnProperty(provider)) {\r\n      each(propertyMap, (value, key) => {\r\n        _.set(hook.data, key, _.get(hook.data[provider], value))\r\n      })\r\n    }\r\n  }\r\n}\r\n"]}