{"version":3,"sources":["../../../../src/client/mixins/form/mixin.base-field.js"],"names":["baseFieldMixin","props","property","type","Object","required","display","computed","icon","field","label","labelWidth","helper","hasError","isEmpty","error","errorLabel","data","model","methods","validate","invalidate","touch","$emit","name","value","fill","mounted","has","default"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,iBAAiB;AACnBC,SAAO;AACLC,cAAU;AACRC,YAAMC,MADE;AAERC,gBAAU;AAFF,KADL;AAKLC,aAAS;AACPH,YAAMC,MADC;AAEPC,gBAAU;AAFH;AALJ,GADY;AAWnBE,YAAU;AACRC,QADQ,kBACA;AACN,UAAI,KAAKF,OAAL,CAAaE,IAAjB,EAAuB;AACrB,eAAO,KAAKN,QAAL,CAAcO,KAAd,CAAoBD,IAA3B;AACD;AACD,aAAO,EAAP;AACD,KANO;AAORE,SAPQ,mBAOC;AACP,UAAI,KAAKJ,OAAL,CAAaI,KAAjB,EAAwB;AACtB,eAAO,KAAKR,QAAL,CAAcO,KAAd,CAAoBC,KAA3B;AACD;AACD,aAAO,EAAP;AACD,KAZO;AAaRC,cAbQ,wBAaM;AACZ,aAAO,KAAKL,OAAL,CAAaK,UAApB;AACD,KAfO;AAgBRC,UAhBQ,oBAgBE;AACR,aAAO,KAAKV,QAAL,CAAcO,KAAd,CAAoBG,MAA3B;AACD,KAlBO;AAmBRC,YAnBQ,sBAmBI;AACV,aAAO,CAAC,iBAAEC,OAAF,CAAU,KAAKC,KAAf,CAAR;AACD,KArBO;AAsBRC,cAtBQ,wBAsBM;AACZ,aAAO,KAAKD,KAAZ;AACD;AAxBO,GAXS;AAqCnBE,MArCmB,kBAqCX;AACN,WAAO;AACL;AACAC,aAAO,EAFF;AAGL;AACAH,aAAO;AAJF,KAAP;AAMD,GA5CkB;;AA6CnBI,WAAS;AACPC,YADO,sBACK;AACV,WAAKL,KAAL,GAAa,EAAb;AACD,KAHM;AAIPM,cAJO,sBAIKN,KAJL,EAIY;AACjB,WAAKA,KAAL,GAAaA,KAAb;AACD,KANM;AAOPO,SAPO,mBAOE;AACP,WAAKC,KAAL,CAAW,SAAX,EAAsB,KAAKrB,QAAL,CAAcsB,IAApC,EAA0C,KAAKN,KAA/C;AACD,KATM;AAUPO,SAVO,mBAUE;AACP,aAAO,KAAKP,KAAZ;AACD,KAZM;AAaPQ,QAbO,gBAaDD,KAbC,EAaM;AACX,WAAKP,KAAL,GAAaO,KAAb;AACA,WAAKH,KAAL;AACD;AAhBM,GA7CU;AA+DnBK,SA/DmB,qBA+DR;AACT;AACA,QAAI,iBAAEC,GAAF,CAAM,KAAK1B,QAAX,EAAqB,SAArB,CAAJ,EAAqC;AACnC,WAAKwB,IAAL,CAAU,KAAKxB,QAAL,CAAc2B,OAAxB;AACD;AACF;AApEkB,CAArB;;kBAuEe7B,c","file":"mixin.base-field.js","sourcesContent":["import _ from 'lodash'\n\nlet baseFieldMixin = {\n  props: {\n    property: {\n      type: Object,\n      required: true\n    },\n    display: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    icon () {\n      if (this.display.icon) {\n        return this.property.field.icon\n      }\n      return ''\n    },\n    label () {\n      if (this.display.label) {\n        return this.property.field.label\n      }\n      return ''\n    },\n    labelWidth () {\n      return this.display.labelWidth\n    },\n    helper () {\n      return this.property.field.helper\n    },\n    hasError () {\n      return !_.isEmpty(this.error)\n    },\n    errorLabel () {\n      return this.error\n    }\n  },\n  data () {\n    return {\n      // The model to used for data binding with the field\n      model: '',\n      // The error message\n      error: ''\n    }\n  },\n  methods: {\n    validate () {\n      this.error = ''\n    },\n    invalidate (error) {\n      this.error = error\n    },\n    touch () {\n      this.$emit('touched', this.property.name, this.model)\n    },\n    value () {\n      return this.model\n    },\n    fill (value) {\n      this.model = value\n      this.touch()\n    }\n  },\n  mounted () {\n    // Initialize the model with a default value if any\n    if (_.has(this.property, 'default')) {\n      this.fill(this.property.default)\n    }\n  }\n}\n\nexport default baseFieldMixin\n"]}